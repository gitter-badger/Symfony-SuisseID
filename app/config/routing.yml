app:
    resource: "@AppBundle/Controller/"
    prefix:   /{_locale}
    type:     annotation
    requirements:
        # The first "|" makes the locale optional
        _locale: "|de|en"

# Removes trailing slash on request
remove_tailing_slash:
    path: /{url}
    defaults: { _controller: AppBundle:Usability:removeTrailingSlash }
    requirements:
        url: .*/$
    methods: [GET]

missing_locale:
    path: /{url}
    defaults: { _controller: AppBundle:Usability:localeRedirect }
    requirements:
        url: .*
    methods: [GET]